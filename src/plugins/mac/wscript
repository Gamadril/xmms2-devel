def build(bld):
  obj = bld.create_obj('cpp', 'shlib')
  obj.target = 'xmms_mac'
  obj.source = ['mac.cpp', 'source_adapter.cpp']
  obj.uselib = 'mac'

def configure(conf):
  conf.check_tool('g++ checks')
  if conf.check_library2('mac', uselib='mac', mandatory=0):
    conf.env['XMMS_PLUGINS_ENABLED'].append('mac')
