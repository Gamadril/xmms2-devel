def build(bld):
  obj = bld.create_obj('cpp', 'shlib')
  obj.target = 'sid'
  obj.sources = ['sid.c', 'sidplay_wrapper.cpp', 'md5.cpp']
  obj.uselib = 'samba'

def configure(conf):
  conf.check_tool('checks g++')
  if conf.check_pkg('libsidplay', destvar='sidplay'):
    conf.env['XMMS_PLUGINS_ENABLED'].append('sid')
